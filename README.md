# LLM Gamer Agent

LLM Gamer Agentは、Google Gemini などの高度なマルチモーダルLLMを活用し、コンピュータ画面上の情報を視覚的に認識しながら、自律的にタスクを実行したりゲームをプレイしたりするエージェントシステムです。

Model Context Protocol (MCP) アーキテクチャを採用しており、エージェント自身が必要に応じてPythonスクリプト（MCPサーバー）を作成・実行し、能力を拡張していくことができます。

## 特徴

*   **視覚的認識 (Vision)**: 画面のスクリーンショットをリアルタイムで取得・解析し、状況を把握します。
*   **自律的なツール作成 (Self-Coding)**: タスク達成のために必要なツール（Pythonコード）をエージェント自身が生成し、即座に実行環境にデプロイして使用します。
*   **思考プロセス (Cognition)**: "Thought Chain" (CoT) により、行動の理由や計画を論理的に組み立てます。
*   **リアルタイムダッシュボード (Live GUI)**: エージェントの視界、思考、記憶、実行ログをWebブラウザ上でリアルタイムに監視できるモダンなGUIを提供します。
*   **インタラクティブな指示**: ダッシュボード経由でエージェントに直接タスクやフィードバックを与えることができます。
*   **記憶管理 (Memory)**: 重要な情報やタスクの状態を記憶として保持し、長期的なタスク遂行をサポートします。

## 動作環境

*   Windows (推奨)
*   Python 3.10 以上
*   Google Gemini API Key

## インストール

1.  プロジェクトのルートディレクトリに移動します。
2.  仮想環境を作成し、有効化することを推奨します。
    ```bash
    python -m venv .venv
    .venv\Scripts\activate
    ```
3.  依存ライブラリをインストールします。
    ```bash
    pip install -r requirements.txt
    ```
4.  環境変数を設定します。
    `.env.example` をコピーして `.env` という名前のファイルを作成し、エディタで開いてAPIキーを設定してください。
    ```ini
    GOOGLE_API_KEY=your_api_key_here
    MODEL_NAME=gemini-2.0-flash-exp
    # その他必要な設定があれば記述
    ```

## 使い方

### エージェントの起動

以下のバッチファイルを実行するだけで、エージェントとダッシュボードが起動します。

```bash
./run.bat
```

または、Pythonコマンドで直接起動することも可能です。

```bash
python agent.py
```

### ダッシュボードへのアクセス

エージェント起動後、Webブラウザで以下のURLにアクセスしてください。

**URL**: [http://localhost:15000](http://localhost:15000)

ダッシュボードの構成：
*   **Live Vision**: エージェントが見ている現在の画面。
*   **Active Memories**: 現在保持している記憶。
*   **Cognitive Stream**: エージェントの思考内容（Thought）。
*   **Tool Activity**: 実行されたツールとその結果のログ。

初回起動時やエージェントが入力を求めた際には、ダッシュボード上にさらに入力ポップアップが表示されます。

## ディレクトリ構成

*   `agent.py`: エージェントのメインロジック。思考ループと意思決定を行います。
*   `mcp_manager.py`: MCP (Model Context Protocol) サーバーの管理。ツールの動的な作成・実行・管理を担当します。
*   `dashboard.py`: FastAPIを使用したWebインターフェースサーバー。
*   `memory_manager.py`: 記憶のCRUD操作を管理するモジュール。
*   `llm_client.py`: LLM APIとの通信を行うクライアント。
*   `workspace/`: エージェントが生成したツール（MCPサーバー）が保存されるディレクトリ。
*   `history/`: エージェントの状態やメモリのチェックポイントが保存されるディレクトリ。

## アーキテクチャについて

このシステムは、エージェントが「ツールを使う」だけでなく「ツールを作る」ことができるのが最大の特徴です。
`meta_manager` という仮想的なMCPサーバーを通じて、エージェントは `workspace` フォルダ内に新しいPythonスクリプト（MCPサーバー）を作成し、それを `mcp_manager` が即座に起動して接続します。これにより、エージェントは未知の問題に対してもコードを書いて解決策を自ら生み出すことができます。

## License

MIT License
